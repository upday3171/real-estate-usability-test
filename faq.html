<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常見問題</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        .top-bar {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .page-title {
            font-size: 18px;
            font-weight: bold;
            flex: 1;
            text-align: center;
            margin: 0 15px;
        }

        .search-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .faq-container {
            padding: 20px;
            padding-bottom: 80px;
        }

        .search-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-box {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 14px;
            background: #f8f9fa;
        }

        .search-input:focus {
            outline: none;
            border-color: #2563eb;
            background: white;
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .categories-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 10px;
            color: #2563eb;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .category-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-card.active {
            background: #2563eb;
            border-color: #2563eb;
            color: white;
        }

        .category-card:hover {
            border-color: #2563eb;
            transform: translateY(-2px);
        }

        .category-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }

        .category-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .category-count {
            font-size: 12px;
            opacity: 0.8;
        }

        .faq-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .faq-item {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:last-child {
            margin-bottom: 0;
        }

        .faq-item.active {
            border-color: #2563eb;
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1);
        }

        .faq-question {
            padding: 18px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #333;
            transition: all 0.3s ease;
            background: white;
        }

        .faq-question:hover {
            background: #f8f9fa;
        }

        .faq-item.active .faq-question {
            background: #f0f9ff;
            color: #2563eb;
        }

        .faq-question-text {
            flex: 1;
            font-size: 15px;
        }

        .faq-question-icon {
            margin-left: 15px;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-question-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
        }

        .faq-item.active .faq-answer {
            padding: 0 20px 20px;
            max-height: 500px;
        }

        .faq-answer-content {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            padding-top: 10px;
            border-top: 1px solid #f1f5f9;
        }

        .helpful-section {
            text-align: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #f1f5f9;
        }

        .helpful-text {
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
        }

        .helpful-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .helpful-btn {
            padding: 6px 12px;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            background: white;
            color: #666;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .helpful-btn:hover {
            border-color: #2563eb;
            color: #2563eb;
        }

        .helpful-btn.selected {
            background: #2563eb;
            border-color: #2563eb;
            color: white;
        }

        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .no-results i {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 15px;
        }

        .no-results h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .no-results p {
            font-size: 14px;
            margin-bottom: 20px;
        }

        .contact-support {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .contact-support h4 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .contact-support p {
            color: #0369a1;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .contact-btn {
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .contact-btn:hover {
            background: #1e40af;
            color: white;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e9ecef;
            padding: 10px 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            text-align: center;
            color: #666;
            text-decoration: none;
            padding: 5px;
            transition: color 0.3s ease;
        }

        .nav-item.active {
            color: #2563eb;
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 2px;
        }

        .nav-item span {
            font-size: 10px;
            display: block;
        }
    </style>
</head>

<body>
    <!-- 頂部導航 -->
    <div class="top-bar">
        <a href="dashboard.html" class="back-btn">
            <i class="fas fa-arrow-left"></i>
        </a>
        <div class="page-title">常見問題</div>
        <button class="search-btn" onclick="focusSearch()">
            <i class="fas fa-search"></i>
        </button>
    </div>

    <!-- FAQ容器 -->
    <div class="faq-container">
        <!-- 搜尋區域 -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="搜尋問題關鍵字...">
                <i class="fas fa-search search-icon"></i>
            </div>
        </div>

        <!-- 分類區域 -->
        <div class="categories-section">
            <div class="section-title">
                <i class="fas fa-th-large"></i>
                問題分類
            </div>
            <div class="category-grid" id="categoryGrid">
                <div class="category-card active" data-category="all">
                    <i class="fas fa-list category-icon"></i>
                    <div class="category-title">全部問題</div>
                    <div class="category-count">20個問題</div>
                </div>
                <div class="category-card" data-category="account">
                    <i class="fas fa-user category-icon"></i>
                    <div class="category-title">帳戶相關</div>
                    <div class="category-count">5個問題</div>
                </div>
                <div class="category-card" data-category="matching">
                    <i class="fas fa-handshake category-icon"></i>
                    <div class="category-title">媒合服務</div>
                    <div class="category-count">8個問題</div>
                </div>
                <div class="category-card" data-category="payment">
                    <i class="fas fa-credit-card category-icon"></i>
                    <div class="category-title">費用付款</div>
                    <div class="category-count">4個問題</div>
                </div>
                <div class="category-card" data-category="technical">
                    <i class="fas fa-cog category-icon"></i>
                    <div class="category-title">技術支援</div>
                    <div class="category-count">3個問題</div>
                </div>
            </div>
        </div>

        <!-- FAQ問題區域 -->
        <div class="faq-section">
            <div class="section-title">
                <i class="fas fa-question-circle"></i>
                常見問題
            </div>
            <div id="faqContainer">
                <!-- FAQ項目將由JavaScript動態生成 -->
            </div>

            <!-- 沒有結果時顯示 -->
            <div class="no-results" id="noResults" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>找不到相關問題</h3>
                <p>請嘗試使用其他關鍵字搜尋，或瀏覽不同的問題分類</p>
            </div>
        </div>

        <!-- 聯絡客服 -->
        <div class="contact-support">
            <h4><i class="fas fa-headset me-2"></i>還有其他問題？</h4>
            <p>如果您找不到需要的答案，我們的客服團隊隨時為您服務</p>
            <a href="contact.html" class="contact-btn">
                <i class="fas fa-comments me-2"></i>聯絡客服
            </a>
        </div>
    </div>

    <!-- 底部導航 -->
    <div class="bottom-nav">
        <a href="dashboard.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>首頁</span>
        </a>
        <a href="brands.html" class="nav-item">
            <i class="fas fa-store"></i>
            <span>品牌</span>
        </a>
        <a href="properties.html" class="nav-item">
            <i class="fas fa-building"></i>
            <span>物件</span>
        </a>
        <a href="cases.html" class="nav-item">
            <i class="fas fa-handshake"></i>
            <span>案件</span>
        </a>
        <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // FAQ數據
        let faqData = [
            {
                id: 1,
                category: 'account',
                question: '如何註冊帳戶？',
                answer: '您可以點擊首頁的「註冊」按鈕，填寫基本資料包括姓名、電話、電子郵件等資訊。註冊完成後，系統會發送驗證郵件到您的信箱，點擊驗證連結即可啟用帳戶。',
                helpful: 0
            },
            {
                id: 2,
                category: 'account',
                question: '忘記密碼怎麼辦？',
                answer: '在登入頁面點擊「忘記密碼」，輸入您的註冊電子郵件，系統會發送重設密碼的連結到您的信箱。點擊連結後即可設定新密碼。',
                helpful: 0
            },
            {
                id: 3,
                category: 'account',
                question: '如何修改個人資料？',
                answer: '登入後進入「我的」頁面，點擊「個人資料」即可修改您的基本資訊、聯絡方式等。修改完成後記得點擊「儲存」按鈕。',
                helpful: 0
            },
            {
                id: 4,
                category: 'matching',
                question: '媒合服務是如何運作的？',
                answer: '我們的AI智能媒合系統會根據您提供的需求條件（如地點、面積、預算等），自動分析並推薦最適合的媒合對象。專業顧問也會協助您進行人工篩選和洽談。',
                helpful: 0
            },
            {
                id: 5,
                category: 'matching',
                question: '媒合成功率有多高？',
                answer: '我們的整體媒合成功率達到95%以上。透過AI智能分析結合專業顧問服務，大幅提升媒合精準度。具體成功率會因需求條件和市場狀況而有所不同。',
                helpful: 0
            },
            {
                id: 6,
                category: 'matching',
                question: '多久可以找到合適的媒合對象？',
                answer: '平均媒合時間為2-4週，具體時間會根據您的需求條件和市場狀況而有所不同。我們會定期提供媒合進度報告，讓您隨時了解最新狀況。',
                helpful: 0
            },
            {
                id: 7,
                category: 'payment',
                question: '媒合服務需要收費嗎？',
                answer: '基本的媒合服務是免費的，只有在成功媒合並簽約後才會收取服務費用。進階服務如專屬顧問、市場分析報告等會另外收費。',
                helpful: 0
            },
            {
                id: 8,
                category: 'payment',
                question: '支援哪些付款方式？',
                answer: '我們支援信用卡、銀行轉帳、支票等多種付款方式。所有交易都採用SSL加密保護，確保您的付款資訊安全。',
                helpful: 0
            },
            {
                id: 9,
                category: 'technical',
                question: '網站無法正常使用怎麼辦？',
                answer: '請先嘗試重新整理頁面或清除瀏覽器快取。如果問題持續存在，請聯絡我們的技術支援團隊，我們會盡快為您解決問題。',
                helpful: 0
            },
            {
                id: 10,
                category: 'technical',
                question: '支援哪些瀏覽器？',
                answer: '我們支援Chrome、Firefox、Safari、Edge等主流瀏覽器的最新版本。建議使用Chrome瀏覽器以獲得最佳使用體驗。',
                helpful: 0
            }
        ];
        let currentCategory = 'all';
        let filteredData = faqData;

        // 頁面載入完成後初始化
        document.addEventListener('DOMContentLoaded', function () {
            initializeFAQ();
            setupEventListeners();
        });

        /**
         * 初始化FAQ
         */
        function initializeFAQ() {
            updateCategoryCounts();
            renderFAQ();
        }

        /**
         * 設置事件監聽器
         */
        function setupEventListeners() {
            // 搜尋輸入
            document.getElementById('searchInput').addEventListener('input', handleSearch);

            // 分類點擊
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', handleCategoryClick);
            });
        }

        /**
         * 渲染FAQ
         */
        function renderFAQ() {
            const container = document.getElementById('faqContainer');
            const noResults = document.getElementById('noResults');

            container.innerHTML = '';

            if (filteredData.length === 0) {
                container.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            container.style.display = 'block';
            noResults.style.display = 'none';

            filteredData.forEach(faq => {
                const faqElement = createFAQElement(faq);
                container.appendChild(faqElement);
            });
        }

        /**
         * 創建FAQ元素
         */
        function createFAQElement(faq) {
            const div = document.createElement('div');
            div.className = 'faq-item';
            div.dataset.faqId = faq.id;

            div.innerHTML = `
                <div class="faq-question" onclick="toggleFAQ(${faq.id})">
                    <span class="faq-question-text">${faq.question}</span>
                    <i class="fas fa-chevron-down faq-question-icon"></i>
                </div>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        ${faq.answer}
                        <div class="helpful-section">
                            <div class="helpful-text">這個回答對您有幫助嗎？</div>
                            <div class="helpful-buttons">
                                <button class="helpful-btn" onclick="markHelpful(${faq.id}, true)">
                                    <i class="fas fa-thumbs-up me-1"></i>有幫助
                                </button>
                                <button class="helpful-btn" onclick="markHelpful(${faq.id}, false)">
                                    <i class="fas fa-thumbs-down me-1"></i>沒幫助
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            return div;
        }

        /**
         * 處理搜尋
         */
        function handleSearch(event) {
            const query = event.target.value.toLowerCase();

            if (query.trim() === '') {
                // 如果搜尋為空，顯示當前分類的所有項目
                filterByCategory(currentCategory);
            } else {
                // 搜尋所有分類中包含關鍵字的項目
                filteredData = faqData.filter(faq =>
                    faq.question.toLowerCase().includes(query) ||
                    faq.answer.toLowerCase().includes(query)
                );
            }

            renderFAQ();
        }

        /**
         * 處理分類點擊
         */
        function handleCategoryClick(event) {
            const category = event.currentTarget.dataset.category;

            // 更新分類狀態
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            currentCategory = category;

            // 清空搜尋框
            document.getElementById('searchInput').value = '';

            filterByCategory(category);
            renderFAQ();
        }

        /**
         * 根據分類篩選
         */
        function filterByCategory(category) {
            if (category === 'all') {
                filteredData = faqData;
            } else {
                filteredData = faqData.filter(faq => faq.category === category);
            }
        }

        /**
         * 切換FAQ項目
         */
        function toggleFAQ(faqId) {
            const faqItem = document.querySelector(`[data-faq-id="${faqId}"]`);
            const isActive = faqItem.classList.contains('active');

            // 關閉所有FAQ項目
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });

            // 如果當前項目不是active，則開啟它
            if (!isActive) {
                faqItem.classList.add('active');
            }
        }

        /**
         * 標記是否有幫助
         */
        function markHelpful(faqId, isHelpful) {
            const faq = faqData.find(f => f.id === faqId);
            if (faq) {
                faq.helpful += isHelpful ? 1 : -1;
            }

            // 更新按鈕狀態
            const faqItem = document.querySelector(`[data-faq-id="${faqId}"]`);
            const buttons = faqItem.querySelectorAll('.helpful-btn');

            buttons.forEach(btn => btn.classList.remove('selected'));

            if (isHelpful) {
                buttons[0].classList.add('selected');
                showToast('感謝您的回饋！', 'success');
            } else {
                buttons[1].classList.add('selected');
                showToast('感謝您的回饋，我們會持續改善', 'info');
            }
        }

        /**
         * 更新分類計數
         */
        function updateCategoryCounts() {
            const counts = {
                all: faqData.length,
                account: faqData.filter(f => f.category === 'account').length,
                matching: faqData.filter(f => f.category === 'matching').length,
                payment: faqData.filter(f => f.category === 'payment').length,
                technical: faqData.filter(f => f.category === 'technical').length
            };

            document.querySelectorAll('.category-card').forEach(card => {
                const category = card.dataset.category;
                const countElement = card.querySelector('.category-count');
                if (counts[category] !== undefined) {
                    countElement.textContent = `${counts[category]}個問題`;
                }
            });
        }

        /**
         * 聚焦搜尋框
         */
        function focusSearch() {
            document.getElementById('searchInput').focus();
        }

        /**
         * 工具函數：顯示提示訊息
         */
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast-message toast-${type}`;
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'info' ? '#2563eb' : type === 'success' ? '#059669' : '#dc3545'};
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 9999;
                animation: slideIn 0.3s ease;
                font-size: 14px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `;

            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        // 添加CSS動畫
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

</html>